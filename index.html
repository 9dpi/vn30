<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VN30 - D·ª± b√°o Ch·ª©ng kho√°n b·∫±ng Thu·∫≠t to√°n AI</title>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        /* GI·ªÆ NGUY√äN CSS G·ªêC C·ª¶A B·∫†N */
        body { background-color: #000000; color: #ffffff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; }
        h1 { text-align: center; color: #00ff00; text-transform: uppercase; letter-spacing: 2px; }
        
        /* T·ªëi ∆∞u Mobile m·ªõi (Ch·ªâ th√™m kh√¥ng s·ª≠a c≈©) */
        @media (max-width: 600px) {
            .hide-mobile { display: none; }
            td, th { padding: 8px 5px; font-size: 0.8rem; }
            .container { padding: 5px; }
        }

        .header-info { display: flex; justify-content: space-around; background: #1a1a1a; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #333; flex-wrap: wrap; }
        .info-item { text-align: center; min-width: 150px; }
        .info-item b { color: #00ff00; }

        table { width: 100%; border-collapse: collapse; background: #111; border-radius: 10px; overflow: hidden; }
        th { background: #222; color: #00ff00; padding: 15px; border-bottom: 2px solid #333; }
        td { padding: 15px; text-align: center; border-bottom: 1px solid #222; }
        
        .text-up { color: #00ff00; font-weight: bold; }
        .text-down { color: #ff0000; font-weight: bold; }
        
        .badge { padding: 5px 10px; border-radius: 5px; font-weight: bold; font-size: 0.8rem; }
        .badge-mua { background: #004d00; color: #00ff00; border: 1px solid #00ff00; }
        .badge-ban { background: #4d0000; color: #ff0000; border: 1px solid #ff0000; }
        .badge-theo { background: #333; color: #aaa; }

        /* N√öT DONATE - ƒê√É PH·ª§C H·ªíI */
        .donate-section { text-align: center; margin-top: 40px; padding: 20px; background: #1a1a1a; border-radius: 10px; border: 1px dashed #444; }
        .btn-donate { background: #ff4500; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block; transition: 0.3s; }
        .btn-donate:hover { background: #ff6347; transform: scale(1.05); }

        /* N√∫t xem th√™m */
        #btn-more { display: block; width: 200px; margin: 20px auto; padding: 10px; background: transparent; color: #00ff00; border: 1px solid #00ff00; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>VN30 - D·ª± b√°o Ch·ª©ng kho√°n b·∫±ng Thu·∫≠t to√°n AI</h1>
        
        <div class="header-info">
            <div class="info-item">üïí C·∫≠p nh·∫≠t: <b id="up-time">--</b></div>
            <div class="info-item">üéØ D·ª± b√°o phi√™n: <b id="for-date">--</b></div>
            <div class="info-item">‚è≥ L·∫ßn t·ªõi: <b id="next-up">--</b></div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>M√£</th>
                    <th>Gi√°</th>
                    <th>+/- %</th>
                    <th class="hide-mobile">Kh·ªëi l∆∞·ª£ng</th>
                    <th>D·ª± b√°o</th>
                </tr>
            </thead>
            <tbody id="main-table"></tbody>
        </table>

        <button id="btn-more" onclick="expand()">XEM TH√äM VN30 +</button>

        <div class="donate-section">
            <p>N·∫øu thu·∫≠t to√°n AI gi√∫p b·∫°n c√≥ l·ª£i nhu·∫≠n, h√£y m·ªùi t√¥i m·ªôt ly c√† ph√™ ‚òï</p>
            <a href="YOUR_DONATE_LINK" class="btn-donate">DONATE QUA MOMO/BANK</a>
        </div>
    </div>

    <script>
        let fullData = [];
        let isExpanded = false;

        async function init() {
            try {
                const r = await fetch('data.json?v=' + Date.now());
                const d = await r.json();
                fullData = d.stocks;
                document.getElementById('up-time').innerText = d.update_time;
                document.getElementById('for-date').innerText = d.forecast_for;
                document.getElementById('next-up').innerText = d.next_update;
                render();
            } catch(e) { console.log("L·ªói t·∫£i data"); }
        }

        function render() {
            const body = document.getElementById('main-table');
            const list = isExpanded ? fullData : fullData.slice(0, 10);
            body.innerHTML = list.map(s => `
                <tr>
                    <td><b>${s.s}</b></td>
                    <td>${s.p}</td>
                    <td class="${s.c >= 0 ? 'text-up' : 'text-down'}">${s.c}%</td>
                    <td class="hide-mobile">${(s.v/1e6).toFixed(1)}M</td>
                    <td><span class="badge badge-${s.f.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, "").replace('ƒë','d').substring(0,3)}">${s.f}</span></td>
                </tr>
            `).join('');
            document.getElementById('btn-more').style.display = isExpanded ? 'none' : 'block';
        }

        function expand() { isExpanded = true; render(); }
        init();
    </script>
</body>
</html>
